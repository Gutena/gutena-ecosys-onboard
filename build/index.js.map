{"version":3,"file":"index.js","mappings":"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","sources":["webpack://gutena-ecosys-onboard/./src/components/GutenaKitInstallCTAPanel.js","webpack://gutena-ecosys-onboard/./src/helper.js","webpack://gutena-ecosys-onboard/./src/editor.scss","webpack://gutena-ecosys-onboard/external window [\"wp\",\"apiFetch\"]","webpack://gutena-ecosys-onboard/external window [\"wp\",\"blockEditor\"]","webpack://gutena-ecosys-onboard/external window [\"wp\",\"components\"]","webpack://gutena-ecosys-onboard/external window [\"wp\",\"compose\"]","webpack://gutena-ecosys-onboard/external window [\"wp\",\"element\"]","webpack://gutena-ecosys-onboard/external window [\"wp\",\"hooks\"]","webpack://gutena-ecosys-onboard/external window [\"wp\",\"i18n\"]","webpack://gutena-ecosys-onboard/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://gutena-ecosys-onboard/webpack/bootstrap","webpack://gutena-ecosys-onboard/webpack/runtime/compat get default export","webpack://gutena-ecosys-onboard/webpack/runtime/define property getters","webpack://gutena-ecosys-onboard/webpack/runtime/hasOwnProperty shorthand","webpack://gutena-ecosys-onboard/webpack/runtime/make namespace object","webpack://gutena-ecosys-onboard/./src/index.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport apiFetch from '@wordpress/api-fetch';\nimport {\n\tInspectorControls\n} from '@wordpress/block-editor';\nimport { Icon, Button, PanelBody } from '@wordpress/components';\nimport { Fragment, useEffect, useState } from  '@wordpress/element';\nimport { gutenaEcosysOnboardIsEmpty } from '../helper';\n\nconst gutenaIcon = () => (\n\t<Icon\n\t\ticon={ () => (\n\t\t\t<svg\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tcolor=\"#ffffff\"\n\t\t\t>\n\t\t\t\t<rect\n\t\t\t\t\tx=\"2.75\"\n\t\t\t\t\ty=\"3.75\"\n\t\t\t\t\twidth=\"18.5\"\n\t\t\t\t\theight=\"16.5\"\n\t\t\t\t\tstroke=\"#0EA489\"\n\t\t\t\t\tstrokeWidth=\"1.5\"\n\t\t\t\t/>\n\t\t\t\t<rect x=\"6\" y=\"7\" width=\"12\" height=\"1\" fill=\"#0EA489\" />\n\t\t\t\t<rect x=\"6\" y=\"11\" width=\"12\" height=\"1\" fill=\"#0EA489\" />\n\t\t\t\t<rect x=\"6\" y=\"15\" width=\"12\" height=\"1\" fill=\"#0EA489\" />\n\t\t\t</svg>\n\t\t) }\n\t/>\n);\n\nconst GutenaKitInstallCTAPanel = ( { name: blockName } ) => {\n\t\n\t//ctaStatus = 0:not initiated, 1 : in progress, 2: Completed, 3:Error, 4: dismissed\n\tconst [ ctaStatus, setCtaStatus ] = useState( 0 );\n\n\t//variable to check if gutena kit already installed but not activated\n\tlet gutenaKitAlreadyExists = false;\n\n\t//check if gutena kit already installed but not activated\n\tuseEffect(() => {\n\t\tlet getPluginInstalled = true;\n\t\tif( getPluginInstalled ) {\n\t\t\tapiFetch( {\n\t\t\t\tmethod: 'GET',\n\t\t\t\tpath: '/wp/v2/plugins'\n\t\t\t} ).then((res) => { \n\t\t\t\tif ( ! gutenaEcosysOnboardIsEmpty( res ) ) {\n\t\t\t\t\tfor (let index = 0; index < res.length; index++) {\n\t\t\t\t\t\tif ( \"gutena-kit/gutena-kit\" === res[index].plugin && \"inactive\" === res[index].status ) {\n\t\t\t\t\t\t\tgutenaKitAlreadyExists = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\treturn () => {\n\t\t\tgetPluginInstalled = false;\n\t\t}\n\t}, []);\n\n\t//Activate Gutena Kit plugin\n\tconst activateGutenaKit = () => {\n\t\tapiFetch( {\n\t\t\tmethod: 'PUT',\n\t\t\tpath: '/wp/v2/plugins/gutena-kit/gutena-kit',\n\t\t\tdata: { status: 'active' },\n\t\t} ).then((res) => { \n\t\t\tsetCtaStatus( 2 );\n\t\t} ).catch( ( error ) => {\n\t\t\tconsole.log(\"my res\", error.message);\n\t\t\tsetCtaStatus( 2 );\n\t\t} );\n\t}\n\n\t//Install and activate gutena kit\n\tconst installActivateGutenaBlocks = () => { \n\t\t\n\t\t//check if already in process \n\t\tif ( 1 === ctaStatus ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t//check if process completed and click to go to complete settings page\n\t\tif ( 2 === ctaStatus ) {\n\t\t\t//open in new tab\n\t\t\twindow.open( gutenaEcosysOnboardData.gk_dashboard_url, \"_blank\");\n\t\t}\n\n\t\t//Set status to in progress i.e. 1\n\t\tsetCtaStatus( 1 );\n\n\t\tif ( true === gutenaKitAlreadyExists ) {\n\t\t\t//activate gutena kit if already exists\n\t\t\tactivateGutenaKit();\n\t\t} else {\n\t\t\t//Install Gutena kit\n\t\t\tfetch(gutenaEcosysOnboardData.ajax_url, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tcredentials: 'same-origin', // <-- make sure to include credentials\n\t\t\t\theaders:{\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'X-WP-Nonce' : gutenaEcosysOnboardData.nonce\n\t\t\t\t},\n\t\t\t\tbody: new URLSearchParams({\n\t\t\t\t\taction: gutenaEcosysOnboardData.install_action,\n\t\t\t\t\t_ajax_nonce: gutenaEcosysOnboardData.nonce,\n\t\t\t\t\tslug: 'gutena-kit'\n\t\t\t\t})\n\t\t\t}).then((response) => response.json()).then((data) => { \t\n\t\t\t\t//activate gutena kit after successfully installtion or if already exists\t\n\t\t\t\tif ( true === data.success || ( false === data.success && 'folder_exists' === data.data.errorCode ) ) {\n\t\t\t\t\tactivateGutenaKit();\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\t//Dismiss CTA\n\tconst dismissCta = () => {\n\t\t//Install Gutena kit\n\t\tfetch(gutenaEcosysOnboardData.ajax_url, {\n\t\t\tmethod: 'POST',\n\t\t\tcredentials: 'same-origin', // <-- make sure to include credentials\n\t\t\theaders:{\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'X-WP-Nonce' : gutenaEcosysOnboardData.nonce\n\t\t\t},\n\t\t\tbody: new URLSearchParams({\n\t\t\t\taction: gutenaEcosysOnboardData.dismiss_action,\n\t\t\t\t_ajax_nonce: gutenaEcosysOnboardData.nonce\n\t\t\t})\n\t\t}).then((response) => response.json()).then((data) => { \t\n\t\t\tsetCtaStatus( 4 );\n\t\t} );\n\t}\n\n\t //Get content details\n\t const getDetails = ( keyName = 'btnName' ) => {\n        let btnName = __( 'Install Gutena kit' );\n\t\tlet discription = __( 'Get access to blocks and pre-made templates.' );\n        switch ( ctaStatus ) {\n            case 1://In progress\n                btnName = __( 'Installing...' );\n            break;\n            case 2://Success\n                btnName = __( 'Complete setup' );\n\t\t\t\tdiscription = __( 'Gutena Kit Installed Successfully.' );\n            break;\n            case 3://failed\n                btnName = __( 'Failed to install' );\n            break;\n            default:\n            break;\n        }\n        return 'btnName' === keyName ? btnName: discription;\n    }\n\n\treturn (\n\t\t4 !== ctaStatus && (\n\t\t<InspectorControls>\n\t\t\t<div className=\"gutena-inspector-cta\" style={ { backgroundImage: 'url('+ gutenaEcosysOnboardData.icons.bg_img+' )' } } >\n\t\t\t\t<div className=\"gutena-cta-dismiss\">\n\t\t\t\t\t<img \n\t\t\t\t\tsrc={ gutenaEcosysOnboardData.icons.close_img } \n\t\t\t\t\tclassName=\"gutena-cta-dismiss-icon\" \n\t\t\t\t\tonClick={ ()=> dismissCta() }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"gutena-cta-body\">\n\t\t\t\t\t<div className=\"gutena-cta-logo\">\n\t\t\t\t\t\t<img \n\t\t\t\t\t\tsrc={ gutenaEcosysOnboardData.icons.logo_img } \n\t\t\t\t\t\talt=\"logo\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"gutena-cta-content\">\n\t\t\t\t\t\t<h5 className=\"gutena-cta-discription\" >\n\t\t\t\t\t\t{ getDetails( 'discription' ) }\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<div \n\t\t\t\t\t\tonClick={()=>installActivateGutenaBlocks()}\n\t\t\t\t\t\tclassName={ `gutena-cta-install-btn ${ 1 === ctaStatus ? \"start-installing\":\"\" }` }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/* initial btn */}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t2 !== ctaStatus && \n\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\tsrc={ gutenaEcosysOnboardData.icons.install_img } \n\t\t\t\t\t\t\t\t\talt=\"install-icon\"\n\t\t\t\t\t\t\t\t\tclassName=\"gutena-cta-icon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ getDetails( 'btnName' ) }\n\n\t\t\t\t\t\t\t{/* on complete installation */}\n\t\t\t\t\t\t\t{ \n\t\t\t\t\t\t\t\t2 === ctaStatus &&\n\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\tsrc={ gutenaEcosysOnboardData.icons.right_arrow_dark } \n\t\t\t\t\t\t\t\talt=\"link-icon\"\n\t\t\t\t\t\t\t\tclassName=\"gutena-cta-icon\"\n\t\t\t\t\t\t\t   />\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a \n\t\t\t\t\t\tclassName=\"gutena-cta-web-link\" \n\t\t\t\t\t\thref={gutenaEcosysOnboardData.gutena_weblink} \n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t__( 'Visit Website' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\tsrc={ gutenaEcosysOnboardData.icons.right_arrow } \n\t\t\t\t\t\t\t\talt=\"link-icon\"\n\t\t\t\t\t\t\t\tclassName=\"gutena-cta-icon\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</InspectorControls>\n\t\t)\n\t);\n}\n\nexport default GutenaKitInstallCTAPanel;","//Check if undefined, null, empty\n\nexport const gutenaEcosysOnboardIsEmpty = ( data ) => {\n\treturn 'undefined' === typeof data || null === data || '' == data;\n};\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { __ } from '@wordpress/i18n';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\nimport apiFetch from '@wordpress/api-fetch';\nimport './editor.scss';\nimport {\n\tInspectorControls\n} from '@wordpress/block-editor';\nimport { Icon, Button, PanelBody } from '@wordpress/components';\nimport { gutenaEcosysOnboardIsEmpty } from './helper';\nimport GutenaKitInstallCTAPanel from './components/GutenaKitInstallCTAPanel';\n\n/**\n * Override the default edit UI to include gutena CTA\n *\n * @param {Function} BlockEdit Original component.\n *\n * @return {Function} Wrapped component.\n */\nexport const withGutenaKitInstallCTA = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst { name: blockName } = props;\n\t\tconst requireInstallCTA = ( -1 !== gutenaEcosysOnboardData.gutena_plugins_blockname.indexOf( blockName ) );\n\n\t\treturn [\n\t\t\trequireInstallCTA && <GutenaKitInstallCTAPanel key=\"gutenacta\" { ...props } />,\n\t\t\t<BlockEdit key=\"edit\" { ...props } />,\n\t\t];\n\t},\n\t'withGutenaKitInstallCTA'\n);\n\nif ( ! gutenaEcosysOnboardIsEmpty( gutenaEcosysOnboardData ) && '1' == gutenaEcosysOnboardData.gutena_kit_require ) {\n\taddFilter(\n\t\t'editor.BlockEdit',\n\t\t'gutena/editor/with-gutenakit-install-cta',\n\t\twithGutenaKitInstallCTA\n\t);\n}\n\n"],"names":["__","apiFetch","InspectorControls","Icon","Button","PanelBody","Fragment","useEffect","useState","gutenaEcosysOnboardIsEmpty","gutenaIcon","GutenaKitInstallCTAPanel","name","blockName","ctaStatus","setCtaStatus","gutenaKitAlreadyExists","getPluginInstalled","method","path","then","res","index","length","plugin","status","activateGutenaKit","data","catch","error","console","log","message","installActivateGutenaBlocks","window","open","gutenaEcosysOnboardData","gk_dashboard_url","fetch","ajax_url","credentials","headers","nonce","body","URLSearchParams","action","install_action","_ajax_nonce","slug","response","json","success","errorCode","dismissCta","dismiss_action","getDetails","keyName","btnName","discription","backgroundImage","icons","bg_img","close_img","logo_img","install_img","right_arrow_dark","gutena_weblink","right_arrow","createHigherOrderComponent","addFilter","withGutenaKitInstallCTA","BlockEdit","props","requireInstallCTA","gutena_plugins_blockname","indexOf","gutena_kit_require"],"sourceRoot":""}